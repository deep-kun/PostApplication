<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Single Page Application</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
</head>
<body>
    <div id="app"></div>

    <div id="register" style="visibility: hidden">
        <b>register form</b>
        <div class="form-group">
            <input id="regName" class="form-control" type="text" placeholder="Name">
            <input id="regUser" class="form-control" type="text" placeholder="User">
            <input id="regPass" class="form-control" type="text" placeholder="Password">
            <button onclick="
var object = new Object();
object.Name = document.getElementById('regName').value;
object.User = document.getElementById('regUser').value;
object.Password = document.getElementById('regPass').value;
console.log(object);
HttpRequest('Auth','post',object);
"></button>
        </div>
    </div>

    <button onclick="load()">Load</button>
    <button onclick="show('register')">register</button>
    <script>

        this.rootElem = document.getElementById('app');

        var s = document.location.hostname.toString();
        function load() {
        }

        function show(node) {
            var n = document.getElementById(node.toString());
            if (n.style.visibility === "visible") {
                n.style.visibility = "hidden";
            } else {
                n.style.visibility = "visible";
            }
        }

        function HttpRequest(controller, method, object) {
            var Http = new XMLHttpRequest();
            //var url='https://jsonplaceholder.typicode.com/posts';
            var url = "http://localhost:51368/api/" + controller;
            Http.open(method, url, true);
            Http.setRequestHeader('Content-Type', 'application/json');
            Http.send(JSON.stringify(object));
            Http.onreadystatechange = (e) => {
                console.log(Http.responseText);
                return Http.responseText;
            }
        }
    </script>
</body>
</html>
